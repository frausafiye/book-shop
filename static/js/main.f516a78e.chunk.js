(this["webpackJsonpmy-new-react-project"]=this["webpackJsonpmy-new-react-project"]||[]).push([[0],{49:function(e,t,c){},51:function(e,t,c){},52:function(e,t,c){},55:function(e,t,c){},56:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c(1),o=c.n(n),r=c(6),s=c(5),i=function(e){return function(t){fetch(e).then((function(e){return e.json()})).then((function(e){var c=e.items.map((function(e){return Object(r.a)(Object(r.a)({},e),{},{price:Math.floor(20*Math.random()+1),quantity:1})}));t({type:"fetchBooks",payload:c})}))}},l=c(12),j=c(4),b=c(13),u=c.p+"static/media/logo.0c555242.png",d=c(11),h=(c(49),function(e){var t=Object(j.f)(),c=Object(n.useState)(""),o=Object(b.a)(c,2),r=o[0],i=o[1],h=Object(s.c)((function(e){return e.favorites})),O=Object(s.c)((function(e){return e.cart}));return Object(a.jsx)("div",{children:Object(a.jsxs)("nav",{className:"nav",children:[Object(a.jsxs)("div",{className:"nav-first-line",children:[Object(a.jsx)("img",{className:"logo",src:u,alt:"logo"}),Object(a.jsx)("form",{onSubmit:function(c){c.preventDefault(),t.push("/"),e.addInputToState({arg:r,type:"userInput"})},children:Object(a.jsxs)("label",{children:[Object(a.jsx)("input",{type:"text",name:"searchbox",placeholder:"search for a book",onChange:function(e){return i(e.target.value)}}),Object(a.jsx)("button",{type:"submit",className:"btn",children:Object(a.jsx)(d.a,{icon:["fas","search"]})})]})}),Object(a.jsxs)("div",{className:"horizontal-nav",children:[Object(a.jsx)("div",{className:"horizontal-nav-bars",children:Object(a.jsx)(d.a,{icon:["fas","bars"]})}),Object(a.jsxs)("div",{className:"icons",children:[Object(a.jsx)(l.b,{to:"/cart",children:Object(a.jsxs)("div",{className:"icon",children:[Object(a.jsx)(d.a,{icon:["fas","cart-plus"]}),Object(a.jsx)("div",{className:"counterbox",children:O.length})]})}),Object(a.jsx)(l.b,{to:"/watch",children:Object(a.jsxs)("div",{className:"icon",children:[Object(a.jsx)(d.a,{icon:["fas","heart"]}),Object(a.jsx)("div",{className:"counterbox",children:h.length})]})})]})]})]}),Object(a.jsx)("ul",{className:"nav-links",children:["Romance","Adventure","Horror","Fantasy","Mystery","Science-Fiction","History","Travel","Children's"].map((function(c){return Object(a.jsx)("li",{className:"nav-link",onClick:function(c){e.addInputToState({arg:c.target.innerHTML,type:"category"}),t.push("/")},children:c},c)}))})]})})});c(51);function O(e){var t=e.book,c=e.calculateTotal,o=Object(j.g)(),r=Object(s.b)(),i=Object(s.c)((function(e){return e.cart})),l=Object(n.useState)(!1),u=Object(b.a)(l,2),d=u[0],h=u[1],O=function(e,t){t.target.disabled=!0,r({type:"addFavorites",payload:e})},p=function(e){i.filter((function(t){return t.volumeInfo.title===e.volumeInfo.title&&t.volumeInfo.infoLink===e.volumeInfo.infoLink})).length>0?(r({type:"setAlert",payload:{alert:!0}}),setTimeout((function(){r({type:"setAlert",payload:{alert:!1}})}),2e3)):r({type:"addCart",payload:e})};return Object(a.jsxs)("div",{children:["/"===o.pathname&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("button",{className:"btn book-btn",onClick:function(){return p(t)},children:"Add to cart"}),Object(a.jsx)("button",{className:"btn book-btn",onClick:function(e){return O(t,e)},children:"Add to favorites"})]}),"/cart"===o.pathname&&Object(a.jsxs)(a.Fragment,{children:[d&&Object(a.jsx)("div",{className:"warning-box",children:Object(a.jsx)("p",{children:"Please click on remove from cart button to remove the book from cart"})}),Object(a.jsxs)("div",{children:[Object(a.jsx)("button",{className:"btn book-btn",onClick:function(){return r({type:"removeFromCart",payload:t})},children:"Remove from cart"}),Object(a.jsx)("button",{className:"btn book-btn",onClick:function(e){return O(t,e)},children:"Add to favorites"})]}),Object(a.jsx)("input",{type:"number",name:"number",min:"0",defaultValue:t.quantity,onChange:function(e){return function(e,t){"0"===t.target.value?(h(!0),setTimeout((function(){h(!1)}),2e3),t.target.value="1"):(r({type:"changeAmount",payload:{book:e,newAmount:t.target.value}}),c())}(t,e)}})]}),"/watch"===o.pathname&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("button",{className:"btn book-btn",onClick:function(){return p(t)},children:"Add to cart"}),Object(a.jsx)("button",{className:"btn book-btn",onClick:function(){return r({type:"removeFromFavorites",payload:t})},children:"Remove from favorites"})]})]})}function p(e){var t=Object(s.c)((function(e){return e.alert}));return Object(a.jsxs)("div",{className:t?"book changedColor":"book",children:[Object(a.jsxs)("h3",{children:[" ",e.index+1," "]}),Object(a.jsx)("div",{className:"img-container",children:Object(a.jsx)("img",{src:e.book.volumeInfo.imageLinks?e.book.volumeInfo.imageLinks.smallThumbnail:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/ac/No_image_available.svg/600px-No_image_available.svg.png",alt:"book",className:"book-img"})}),Object(a.jsxs)("div",{className:"book-info",children:[Object(a.jsxs)("h4",{children:[" ",e.book.volumeInfo.title," "]}),Object(a.jsxs)("p",{children:[" ",e.book.volumeInfo.authors," "]}),Object(a.jsxs)("p",{children:[" Related Categories: ",e.book.volumeInfo.categories," "]}),Object(a.jsxs)("p",{children:[" Price:",e.book.price,"\u20ac "]}),Object(a.jsx)("a",{href:e.book.volumeInfo.infoLink,className:"btn more",children:"More"})]}),Object(a.jsx)(O,{book:e.book,calculateTotal:e.calculateTotal})]})}var m=function(e){var t=Object(s.c)((function(e){return e.books})),c=Object(s.c)((function(e){return e.cart})),o=Object(s.c)((function(e){return e.alert}));return Object(n.useEffect)((function(){}),[c]),Object(a.jsx)("div",{children:Object(a.jsx)("section",{className:"section",children:Object(a.jsxs)("div",{className:"section-center books",children:[o&&Object(a.jsx)("div",{className:"warning-box",children:Object(a.jsx)("p",{children:"You've added this book to your cart already. If you want to add it again, please go to your cart."})}),t&&t.map((function(e,t){return Object(a.jsx)(p,{index:t,book:e},t)}))]})})})};c(52);function v(e){var t=e.active;return Object(a.jsxs)("div",{className:"buying steps",children:[Object(a.jsx)("div",{className:"first"===t?"active-step":void 0,children:Object(a.jsx)("div",{className:"step-box",children:Object(a.jsx)(d.a,{icon:["fas","shopping-cart"],className:"buying step"})})}),Object(a.jsx)("div",{className:"arrow-box",children:Object(a.jsx)(d.a,{icon:["fas","arrow-circle-right"],className:"buying step"})}),Object(a.jsx)("div",{className:"second"===t?"active-step":void 0,children:Object(a.jsx)("div",{className:"step-box",children:Object(a.jsx)(d.a,{icon:["fas","euro-sign"],className:"buying step"})})}),Object(a.jsx)("div",{className:"arrow-box",children:Object(a.jsx)(d.a,{icon:["fas","arrow-circle-right"],className:"buying step"})}),Object(a.jsx)("div",{className:"third"===t?"active-step":void 0,children:Object(a.jsx)("div",{className:"step-box",children:Object(a.jsx)(d.a,{icon:["fas","shipping-fast"],className:"buying step"})})})]})}function x(e){var t=e.total,c=e.amount;return Object(a.jsxs)(a.Fragment,{children:[t?Object(a.jsx)("div",{className:"amount-box",children:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("p",{children:["Amount of Artikel: ",c]}),Object(a.jsxs)("p",{children:["Total Price:",t,"\u20ac"]})]})}):Object(a.jsx)("div",{className:" amount-box no-item-box",children:Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("p",{children:["You haven't booked any book yet.",Object(a.jsx)(l.b,{to:"/",children:Object(a.jsx)("button",{className:"btn",style:{marginLeft:"2rem"},children:"Start Exploring!"})})]})})}),Object(a.jsx)("div",{className:"checkout-box",children:t?Object(a.jsx)(l.b,{to:{pathname:"/payment"},children:Object(a.jsx)("button",{className:"btn",children:"Checkout"})}):null})]})}var f=function(e){var t=Object(s.c)((function(e){return e.cart})),c=Object(n.useState)(0),o=Object(b.a)(c,2),r=o[0],i=o[1],l=Object(n.useState)(0),j=Object(b.a)(l,2),u=j[0],d=j[1],h=function(){var e=t.reduce((function(e,t){return e+t.quantity}),0),c=t.reduce((function(e,t){return e+t.quantity*t.price}),0);d(e),i(c)};return Object(n.useEffect)((function(){h()}),[t]),Object(a.jsxs)("div",{children:[Object(a.jsx)(v,{active:"first"}),Object(a.jsxs)("section",{className:"section",children:[Object(a.jsx)("div",{className:"section-center books",children:t&&t.map((function(e,t){return Object(a.jsx)(p,{index:t,book:e,calculateTotal:h})}))}),Object(a.jsx)(x,{total:r,amount:u})]})]})},g=function(e){var t=Object(s.c)((function(e){return e.favorites})),c=Object(s.c)((function(e){return e.alert}));return Object(a.jsx)("div",{children:Object(a.jsx)("section",{className:"section",children:Object(a.jsxs)("div",{className:"section-center books",children:[c&&Object(a.jsx)("div",{className:"warning-box",children:Object(a.jsx)("p",{children:"You've added this book to your cart already. If you want to add it again, please go to your cart."})}),t&&t.map((function(e,t){return Object(a.jsx)(p,{index:t,book:e})}))]})})})};function y(e){var t=Object(s.c)((function(e){return e.cart})).reduce((function(e,t){return e+t.quantity*t.price}),0);return Object(a.jsxs)("div",{children:[Object(a.jsx)(v,{active:"third"}),t?Object(a.jsx)("div",{style:{padding:"5px",width:"fit-content",margin:"10px auto"},children:Object(a.jsxs)("h3",{children:["Payment of ",t,"$ is successful. Thank you for your purchase!"]})}):Object(a.jsx)("div",{style:{width:"fit-content",margin:"0 auto"},children:Object(a.jsx)("h1",{children:"404"})})]})}var k=c(30),N=c(31),w=c(36),S=c(35),I=c(15),A=c.n(I),C=c(32),F=c.n(C);function L(){return Object(a.jsx)("div",{children:Object(a.jsx)("p",{children:"Loading.."})})}var T=null,R=function(e){Object(w.a)(c,e);var t=Object(S.a)(c);function c(e){var a;return Object(k.a)(this,c),(a=t.call(this,e)).createOrder=function(e,t){return t.order.create({purchase_units:[{description:NaN,amount:{currency_code:"USD",value:a.props.total}}]})},a.onApprove=function(e,t){t.order.capture().then((function(t){e.payerID,e.orderID;a.setState({showButtons:!1,paid:!0})}))},a.state={showButtons:!1,loading:!0,paid:!1},window.React=o.a,window.ReactDOM=A.a,a}return Object(N.a)(c,[{key:"componentDidMount",value:function(){var e=this.props,t=e.isScriptLoaded,c=e.isScriptLoadSucceed;t&&c&&(T=window.paypal.Buttons.driver("react",{React:o.a,ReactDOM:A.a}),this.setState({loading:!1,showButtons:!0}))}},{key:"componentWillReceiveProps",value:function(e){var t=e.isScriptLoaded,c=e.isScriptLoadSucceed;!this.state.showButtons&&!this.props.isScriptLoaded&&t&&c&&(T=window.paypal.Buttons.driver("react",{React:o.a,ReactDOM:A.a}),this.setState({loading:!1,showButtons:!0}))}},{key:"render",value:function(){var e=this,t=this.state,c=t.showButtons,n=t.loading,o=t.paid;return Object(a.jsxs)("div",{className:"main paypal-container",children:[n&&Object(a.jsx)(L,{}),c&&Object(a.jsx)(T,{createOrder:function(t,c){return e.createOrder(t,c)},onApprove:function(t,c){return e.onApprove(t,c)}}),Object(a.jsx)("button",{onClick:function(){e.setState({paid:!0})},className:"btn",children:"Paid True-Testing"}),o&&this.props.history.push({pathname:"/sendingInfo",state:{total:this.props.total,paypal:window.paypal}})]})}}]),c}(o.a.Component),B=F()("https://www.paypal.com/sdk/js?client-id=ATfnR8lDqSthpSx1-nzhIOXuzajVh5dwHMXvIXvoe6vqBplDhH4GRgvQAAC-6G9FGv8PEmo0MhRYgWG8")(Object(j.h)(R));function q(e){var t=Object(n.useState)(!0),c=Object(b.a)(t,2),o=c[0];c[1];return Object(a.jsxs)("div",{children:[Object(a.jsx)(v,{active:"second"}),Object(a.jsx)("div",{style:{width:"100%",textAlign:"center"},children:o&&Object(a.jsx)(B,{total:e.location.query})})]})}var M=function(){var e=Object(s.b)(),t=function(t){var c=t.arg;if("category"===t.type){var a="https://www.googleapis.com/books/v1/volumes?q=subject:".concat(c,"&key=").concat("AIzaSyClwiiK8_WINLb7wjn7ld03UcNmLh5b1xc");e(i(a))}else{var n="https://www.googleapis.com/books/v1/volumes?q=".concat(c,"}& key=").concat("AIzaSyClwiiK8_WINLb7wjn7ld03UcNmLh5b1xc");e(i(n))}};return Object(n.useEffect)((function(){t({arg:"horror",type:"category"})}),[]),Object(a.jsxs)(l.a,{children:[Object(a.jsx)(j.a,{render:function(e){return Object(a.jsx)(h,Object(r.a)(Object(r.a)({},e),{},{addInputToState:t}))}}),Object(a.jsxs)(j.c,{children:[Object(a.jsx)(j.a,{exact:!0,path:"/cart",children:Object(a.jsx)(f,{})}),Object(a.jsx)(j.a,{exact:!0,path:"/watch",children:Object(a.jsx)(g,{})}),Object(a.jsx)(j.a,{exact:!0,path:"/sendingInfo",component:y}),Object(a.jsx)(j.a,{exact:!0,path:"/payment",component:q}),Object(a.jsx)(j.a,{exact:!0,path:"/",children:Object(a.jsx)(m,{})})]})]})},D=(c(55),c(18)),_=c(33),P=c(23),z={books:[],cart:[],favorites:[],alert:!1},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"fetchBooks":return Object(r.a)(Object(r.a)({},e),{},{books:Object(P.a)(t.payload)});case"addFavorites":return e.favorites.includes(t.payload)?e:Object(r.a)(Object(r.a)({},e),{},{favorites:[].concat(Object(P.a)(e.favorites),[t.payload])});case"addCart":return Object(r.a)(Object(r.a)({},e),{},{cart:[].concat(Object(P.a)(e.cart),[t.payload])});case"removeFromCart":var c=e.cart.filter((function(e){return e!==t.payload}));return Object(r.a)(Object(r.a)({},e),{},{cart:c});case"removeFromFavorites":var a=e.favorites.filter((function(e){return e!==t.payload}));return Object(r.a)(Object(r.a)({},e),{},{favorites:a});case"changeAmount":var n=Object(r.a)({},e),o=n.cart.find((function(e){return e.id===t.payload.book.id}));o.quantity=parseInt(t.payload.newAmount);var s=n.cart.indexOf(o);return n.cart.splice(s,1,o),console.log("copyState:",n),n;case"setAlert":return Object(r.a)(Object(r.a)({},e),{},{alert:t.payload.alert});default:return e}},H=localStorage.getItem("reduxState-shopping-app")?JSON.parse(localStorage.getItem("reduxState-shopping-app")):{books:[],cart:[],favorites:[],alert:!1},G=Object(D.c)(E,H,Object(D.a)(_.a));function J(e){return Object(a.jsx)(s.a,{store:G,children:e.children})}G.subscribe((function(){localStorage.setItem("reduxState-shopping-app",JSON.stringify(G.getState()))}));var W=c(20),Y=c(34),U=c(14);W.b.add(Y.a,U.f,U.c,U.e,U.h,U.d,U.g,U.a,U.b),A.a.render(Object(a.jsx)(J,{children:Object(a.jsx)(M,{})}),document.getElementById("root"))}},[[56,1,2]]]);
//# sourceMappingURL=main.f516a78e.chunk.js.map